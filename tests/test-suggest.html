<html>
	<head>
		<link href="../js/css/jquery-ui/jquery.css" rel="stylesheet" />
		<link href="../js/css/rameses-lib.css" rel="stylesheet" />
		
		<script src="../js/jquery-all.js"></script>
		<script src="../js/rameses-ext-lib.js"></script>
		<script src="../js/rameses-ui.js"></script>

		<script>			
			$put(
				'test',
				new function() 
				{
					var self = this;
					
					this.subject;
					this.keyword;
					this.selectedItem;
					this._controller;
				
					this.search = function() {
						return projects;
					}
					
					this.list = [];

					this.remove = function() {
						this.list.remove( this.selectedItem );
					}
					
					this.propertyChangeListener = {
						'suggestResult' : function(o) {
							self.list.push(o);
							self.keyword = '';
							self._controller.refresh();
						}
					};
					
					this.classes = [
						'MATH 1',
						'ENGLISH 1',
						'PSYCH 1',
						'IT 101',
						'IT 201'
					];
					
					var projects = [
						{
							value: "jquery",
							label: "jQuery",
							desc: "the write less, do more, JavaScript library",
							icon: "D:/images/profile/elmo_nazareno/thumbnail.jpg"
						},
						{
							value: "jquery-ui",
							label: "jQuery UI",
							desc: "the official user interface library for jQuery",
							icon: "D:/images/profile/elmo_nazareno/thumbnail.jpg"
						},
						{
							value: "sizzlejs",
							label: "Sizzle JS",
							desc: "a pure-JavaScript CSS selector engine",
							icon: "D:/images/profile/joshua_nazareno/thumbnail.jpg"
						}
					];
				}
			);
		</script>
	</head>

	<body>
		<b>Test suggest component:</b>
		<br/>
		<input type="text" r:context="test" r:name="subject" 
			   r:suggest="classes"
			   r:hint="Class"/>
		<input type="text" r:context="test" r:name="keyword" 
			   r:suggest="search" r:suggestName="suggestResult"
			   r:suggestExpression="#{label}"
			   r:suggestTemplate="suggest-tpl"
			   r:hint="Search Student"/>
		
		<br/>
		<b>Students:</b>
		<br/>
		<table r:name="selectedItem" r:context="test" r:items="list">
			<tbody>
				<tr>
					<td valign="top">
						<img src="#{icon}"/>
					</td>
					<td valign="top">
						#{label}<br/>
						<span style="color:#aaa">#{desc}</span>
					</td>
					<td valign="top">
						<a r:context="test" r:name="remove">x</a>
					</td>
				</tr>
			</tbody>
		</table>
		<br/>
		
		<div id="suggest-tpl" style="display:none">
			<a href="#">
				<table>
					<tr>
						<td valign="top">
							<img src="#{icon}"/>
						</td>
						<td valign="top">
							#{label}<br/>
							<span style="color:#aaa">#{desc}</span>
						</td>
					</tr>
				</table>
			</a>
		</div>
	</body>

</html>
