<html>
	<head>
		<script type="text/javascript">
			if( !window.console ) window.console = { log: function(msg){  }};
		</script>
		<script src="../js/jquery-all.js"></script>
		<script src="../js/rameses-ext-lib.js"></script>
		<script src="../js/rameses-ui.js"></script>

		<style>
			body, table { font: 10pt/145% 'arial', 'verdana'; }
		
			.post { margin: 10px; border-bottom: solid 1px lightgrey; }
			.poster { color: #999; font-size: 0.8em; }
			.message { color: #333; }
			
		</style>
		<script>
			$put( "profile",
				new function() {

					var idx = 0;
					var self = this;
					
					Scroller.register(function(){
						//self.model.fetchNext();
					});
				
					this.model = {
						fetchList: function() {
							if( idx >= 30 ) return null;
							idx++;
							return [
								{id: idx+'001', firstname:"elmo", lastname:"nazareno"},
								{id: idx+'002', firstname:"jess", lastname:"zamora"}
							];
						}
					};
					
					this.model2 = {
						fetchList: function() {
							return [];	
						}
					};
					
					this.model3 = {
						fetchList: function() {
							return [];
						}
					};
					
					this.addItemToModel3 = function() {
						this.model3.setList([{id: '001', firstname:"elmo", lastname:"nazareno"}]);
					}
					
					this.test = function() {};
					
					this.value = 'a';
				}
			);
		</script>

	</head>
	<body>
		<span style="font-family: Wingdings;">&#238;</span>
		<b r:context="profile" r:visibleWhen="#{value}">Test Value</b>
		<!--
		<table r:context="profile" r:model="model" r:varStatus="stat"
			   cellpadding="0" cellspacing="0" width="400">
			<thead>
				<th>
					Posts
					<hr/>
				</th>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="post">
							<div class="poster">#{id} - #{firstname} #{lastname}</div>
							<div class="message">
								Hi, this is my message.
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<br/>
		<a r:context="profile" r:name="model.fetchNext">View More</a>
		<br/>
		
		<br/>
		<br/>
		
		<table r:context="profile" r:model="model2" r:varStatus="stat"
			   cellpadding="0" cellspacing="0" width="400">
			<thead>
				<th>
					Posts 2
					<hr/>
				</th>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="post">
							<div class="poster">#{id} - #{firstname} #{lastname}</div>
							<div class="message">
								Hi, this is my message.
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		
		<br/>
		<br/>
		-->
		<table r:context="profile" r:model="model3" r:varStatus="stat"
			   cellpadding="0" cellspacing="0" width="400"
			   r:emptyText="No record for post 3."
			   r:emptyTextStyle="color: red;font-weight: bold;">
			<thead>
				<th>
					Posts 3
					<hr/>
				</th>
			</thead>
			<tbody>
				<tr>
					<td>
						<div class="post">
							<div class="poster">#{id} - #{firstname} #{lastname}</div>
							<div class="message">
								Hi, this is my message.
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<br/>
		<a r:context="profile" r:name="addItemToModel3">View More</a> | 
		<a r:context="profile" r:name="model3.load">Clear</a>
		<br/>
		<button r:context="profile" r:name="test">Refresh</button>
	</body>

</html>
